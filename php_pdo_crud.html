<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Connect to database with PHP PDO and perform basic CRUD operations">
	<meta name="keywords" content="php, pdo, crud, database, insert, read, update, delete">
	<meta name="robots" content="index,follow">
	
	<title>Connect to database with PHP PDO and perform basic CRUD operations</title>

	<link rel="alternate" href="https://www.vojislavd.com/php_pdo_crud.html" hreflang="en-us">
	<link rel="icon" href="./images/logo.png" type="image/png">
    <link href="./output.css" rel="stylesheet">
</head>
<body class="bg-slate-50 font-mono">
    <div class="min-h-screen max-w-3xl mx-auto flex flex-col px-4">
        <header class="h-12 flex items-center">
            <a href="./index.html" class="flex items-center text-sm font-bold text-primary  space-x-2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M18 10a.75.75 0 0 1-.75.75H4.66l2.1 1.95a.75.75 0 1 1-1.02 1.1l-3.5-3.25a.75.75 0 0 1 0-1.1l3.5-3.25a.75.75 0 1 1 1.02 1.1l-2.1 1.95h12.59A.75.75 0 0 1 18 10Z" clip-rule="evenodd" /></svg>
                <span>Home</span>  
            </a>
        </header>
        <main class="main_article">
            <article>
                <h1 class="article_title">Connect to database with PHP PDO and perform basic CRUD operations</h1>
                <span class="article_date">Mar 10, 2023</span>

                <div class="article_section">
                    <p>In this article, we'll cover how to connect to a database with PHP PDO (PHP Data Objects) and perform basic CRUD (Create, Read, Update, Delete) operations.</p>
                </div>

                <div class="article_section">
                    <h2 class="article_section_title">Connecting to the Database</h2>

                    <p>First, we need to connect to the database. We'll use PHP PDO to connect to MySQL database. Here's how you can establish a connection:</p>

                    <div class="code_block">
                        <span>$dsn = 'mysql:host=localhost;dbname=mydatabase';</span>
                        <span>$username = 'myusername';</span>
                        <span>$password = 'mypassword';</span>
                        <br>
                        <span>try {</span>
                        <span class="code_indent_lvl_1">$pdo = new PDO($dsn, $username, $password);</span>
                        <span class="code_indent_lvl_1">$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);</span>
                        <span>} catch (PDOException $e) {</span>
                        <span class="code_indent_lvl_1">echo 'Connection failed: ' . $e->getMessage();</span>
                        <span>}</span>
                    </div>

                    <p>In this example, we specify the host, database name, username, and password. We then create a new PDO object and set the <span class="highlight_code">`PDO::ATTR_ERRMODE`</span> attribute to <span class="highlight_code">`PDO::ERRMODE_EXCEPTION`</span>. This tells PDO to throw an exception if there's an error connecting to the database.</p>

                </div>

                <div class="article_section">
                    <h2 class="article_section_title">CRUD Operations</h2>

                    <p>Once we've established a connection to the database, we can perform CRUD operations. Here are some examples of basic CRUD operations using PDO.</p>
                    
                    <h2 class="article_section_title">Create</h2>

                    <p>To create a new record in the database, we need to use an <span class="highlight_code">`INSERT`</span> statement. Here's an example:</p>

                    <div class="code_block">
                        <span>$sql = "INSERT INTO users (name, email, password) VALUES (?, ?, ?)";</span>
                        <span>$stmt = $pdo->prepare($sql);</span>
                        <span>$stmt->execute(['John Doe', 'john@example.com', 'password123']);</span>
                    </div>

                    <p>In this example, we prepare an <span class="highlight_code">`INSERT`</span> statement with placeholders for the values we want to insert. We then execute the statement with an array of values.</p>

                    <h2 class="article_section_title">Read</h2>

                    <p>To read records from the database, we use a <span class="highlight_code">`SELECT`</span> statement. Here's an example:</p>

                    <div class="code_block">
                        <span>$sql = "SELECT * FROM users";</span>
                        <span>$stmt = $pdo->query($sql);</span>
                        <br>
                        <span>while ($row = $stmt->fetch()) {</span>
                        <span class="code_indent_lvl_1">echo $row['name'] . "\n";</span>
                        <span>}</span>
                    </div>

                    <p>In this example, we prepare a <span class="highlight_code">`SELECT`</span> statement and execute it with the <span class="highlight_code">`query()`</span> method. We then iterate over the results with the <span class="highlight_code">`fetch()`</span> method and output the <span class="highlight_code">`name`</span> field.</p>

                    <h2 class="article_section_title">Update</h2>

                    <p>To update a record in the database, we use an <span class="highlight_code">`UPDATE`</span> statement. Here's an example:</p>

                    <div class="code_block">
                        <span>$sql = "UPDATE users SET name = ? WHERE id = ?";</span>
                        <span>$stmt = $pdo->prepare($sql);</span>
                        <span>$stmt->execute(['Jane Doe', 1]);</span>
                    </div>

                    <p>In this example, we prepare an <span class="highlight_code">`UPDATE`</span> statement with placeholders for the values we want to update. We then execute the statement with an array of values.</p>

                    <h2 class="article_section_title">Delete</h2>

                    <p>To delete a record from the database, we use a <span class="highlight_code">`DELETE`</span> statement. Here's an example:</p>

                    <div class="code_block">
                        <span>$sql = "DELETE FROM users WHERE id = ?";</span>
                        <span>$stmt = $pdo->prepare($sql);</span>
                        <span>$stmt->execute([1]);</span>
                    </div>

                    <p>In this example, we prepare a <span class="highlight_code">`DELETE`</span> statement with a placeholder for the value we want to delete. We then execute the statement with an array of values.</p>
                </div>

                <div class="article_section">
                    <h2 class="article_section_title">Conclusion</h2>

                    <p>In this article, we covered how to connect to a database with PHP PDO and perform basic CRUD operations. While these examples are simple, they should give you a good starting point for working with databases in PHP. As you become more familiar with PDO and SQL, you can use more advanced features to build more complex applications.</p>
                </div>
            </article>
        </main>
        <footer class="h-16 flex flex-col items-center justify-center">
            <p>
                Copyright Â© <script>document.write(new Date().getFullYear())</script>, <a href="https://vojislavd.com" class="hover:underline">Vojislav Dragicevic</a>
            </p>
            <p>All Rights Reserved</p>
        </footer>
    </div>
</body>
</html>